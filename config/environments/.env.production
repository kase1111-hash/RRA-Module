# RRA Module - Production Environment Configuration
# IMPORTANT: Never commit actual secrets to version control!
# Use secrets management (Vault, AWS Secrets Manager, etc.)

# =============================================================================
# Environment
# =============================================================================
RRA_ENV=production

# =============================================================================
# API Configuration
# =============================================================================
RRA_API_HOST=0.0.0.0
RRA_API_PORT=8000
RRA_API_URL=https://api.rra.io
RRA_DEBUG=false

# =============================================================================
# Logging
# =============================================================================
RRA_LOG_LEVEL=WARNING

# =============================================================================
# Security (STRICT)
# =============================================================================
RRA_AUTH_ENABLED=true
RRA_JWT_SECRET=${JWT_SECRET}  # Must be set via secrets manager
RRA_CORS_ORIGINS=https://app.rra.io,https://www.rra.io
RRA_SECRETS_BACKEND=vault

# Rate limiting (strict)
RRA_RATE_LIMIT_ENABLED=true
RRA_RATE_LIMIT_REQUESTS=100
RRA_RATE_LIMIT_WINDOW=60

# Vault configuration
VAULT_ADDR=${VAULT_ADDR}
VAULT_TOKEN=${VAULT_TOKEN}

# =============================================================================
# Blockchain (Mainnets)
# =============================================================================
RRA_DEFAULT_CHAIN=ethereum
STORY_NETWORK=mainnet

# RPC URLs (use dedicated, reliable endpoints)
ETH_RPC_URL=${ALCHEMY_MAINNET_URL}
STORY_RPC_URL=https://mainnet.storyrpc.io

# Story Protocol (mainnet)
STORY_PRIVATE_KEY=${STORY_PRIVATE_KEY}  # Via secrets manager

# DID Registry (mainnet)
NLC_DID_REGISTRY_ADDRESS=${DID_REGISTRY_MAINNET_ADDRESS}

# =============================================================================
# Database (PostgreSQL - High Availability)
# =============================================================================
DB_HOST=${POSTGRES_HOST}
DB_PORT=5432
DB_NAME=rra
DB_USER=${POSTGRES_USER}
DB_PASSWORD=${POSTGRES_PASSWORD}  # Via secrets manager

# =============================================================================
# Cache (Redis Cluster)
# =============================================================================
REDIS_HOST=${REDIS_HOST}
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}  # Via secrets manager

# =============================================================================
# Feature Flags (Conservative for production)
# =============================================================================
RRA_FEATURE_ENABLE_STORY_PROTOCOL=true
RRA_FEATURE_ENABLE_SUPERFLUID_STREAMING=true
RRA_FEATURE_ENABLE_AI_NEGOTIATION=true
RRA_FEATURE_ENABLE_WORLDCOIN_VERIFICATION=true
RRA_FEATURE_ENABLE_BRIGHTID_VERIFICATION=true

# Experimental features DISABLED in production
RRA_FEATURE_ENABLE_AUTO_PRICING=false
RRA_FEATURE_ENABLE_REPUTATION_DECAY=false
RRA_FEATURE_ENABLE_L3_ROLLUPS=false
RRA_FEATURE_ENABLE_ZK_PROOFS=false

# =============================================================================
# External Services
# =============================================================================
WORLDCOIN_APP_ID=${WORLDCOIN_PROD_APP_ID}
BRIGHTID_APP_NAME=rra-module
GITHUB_WEBHOOK_SECRET=${GITHUB_WEBHOOK_SECRET}
GITHUB_API_TOKEN=${GITHUB_API_TOKEN}

# =============================================================================
# Monitoring
# =============================================================================
RRA_METRICS_ENABLED=true
RRA_TRACING_ENABLED=true
RRA_TRACING_SAMPLE_RATE=0.1
RRA_TRACING_ENDPOINT=${DATADOG_AGENT_HOST}
